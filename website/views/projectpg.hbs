{{>navbar username=username}}
<h3 id="welcomecomp">{{project.projName}}</h3>
<div id="projpath"><a  href="/mycompany">AutoSense<a href="/mycompany">&gt;Projects</a><a href="/mycompany/project/{{project.id}}">&gt;{{project.projName}}</a></a></div>
{{!-- <div id="dashboard"><iframe src="https://labserver.sense-campus.gr:8087/d-solo/ee5awawrs54w0b/autosenseanalytics-wifi?from=1732770651103&to=1732792251103&timezone=browser&orgId=2&panelId=1&__feature.dashboardSceneSolo" width="450" height="200" frameborder="0"></iframe></div> --}}
{{!-- this is the one --}}


{{#if (eq project.projName "Signal Coverage - LoRA")}}
    <h3 id="projpageLabels">Heatmap</h3>
    {{>LoRa_leaflet project=project projectPoints=projectPoints}}
    <h3 id="projpageLabels">Dashboard</h3>
    <div id="theme-toggle">
        <button id="toggle-button" onclick="toggleTheme()">‚òÄÔ∏è Switch to Light Mode</button>
    </div>
    <div id="dashboardcont">
        <div id="dashboard"><iframe src="https://labserver.sense-campus.gr:8087/d/ae73dhsqu28zkd/autosenseanalyticslora?from=1733827833828&to=1733828948981&timezone=browser&orgId=2&theme=dark" width="1100" height="500" frameborder="0"></iframe></div>
    </div>
    {{!-- {{>LoRa_map project=project projectPoints=projectPoints}}    --}}
    {{>api_docs}}
{{/if}}
{{#if (eq project.projName 'Access Point Mapping - eduroam')}}
    <h3 id="projpageLabels">Heatmap</h3>
    {{>LoRa_leaflet project=project}}
    <h3 id="projpageLabels">Dashboard</h3>
    <div id="theme-toggle">
        <button id="toggle-button" onclick="toggleTheme()">‚òÄÔ∏è Switch to Light Mode</button>
    </div>
    <div id="dashboardcont">
        <div id="dashboard"><iframe src="https://labserver.sense-campus.gr:8087/d/ee5awawrs54w0b/autosenseanalytics-wifi?from=now-5m&to=now&timezone=browser&refresh=5s&theme=dark" width="1100" height="500" frameborder="0"></iframe></div>
    </div>
    {{!-- {{>WiFi_map project=project projectPoints=projectPoints}} --}}
    
{{/if}}
{{#if (eq project.projName 'Signal Coverage - 4G')}}
    <h3 id="projpageLabels">Heatmap</h3>
    {{>LoRa_leaflet project=project projectPoints=projectPoints}}
    <h3 id="projpageLabels">Dashboard</h3>
    <div id="theme-toggle">
        <button id="toggle-button" onclick="toggleTheme()">‚òÄÔ∏è Switch to Light Mode</button>
    </div>
    <div id="dashboardcont">
        <div id="dashboard"><iframe src="https://labserver.sense-campus.gr:8087/d/cec2mcjy1v7cwa/measurements-4g-rssi?folderUid=bebo48v54rsaof&from=2025-02-04T10:37:04.982Z&to=2025-02-04T12:23:13.439Z&timezone=browser&theme=dark" width="1100" height="500" frameborder="0"></iframe></div>
    </div>
    {{!-- <div class="api-docs">
        <h3 class="api-title">API Documentation</h3>
        <p><span class="label">Base URL:</span> <code>http://localhost:3000/api/</code></p>
        <p><span class="endpoint">GET /measurements/:project/:location?</span></p>
        <p class="description">Fetch measurement data for a specific project and location</p>
        <p class="parameters-title">Parameters:</p>
        <ul class="parameters-list">
            <li><code>'project'</code>: (string) The project name. Options: <code>'4g'</code>, <code>'lora'</code>, <code>'imu'</code>, <code>3Dreconstruction</code></li>
            <li><code>'location'</code>: (string) The location name. Options: <code>'center'</code>, <code>'uni'</code>, <code>'all'</code> (default)</li>
        </ul>
        <div class="optional-info">
            <p><span class="label">Note:</span> If <code>'project'</code> is set to <code>'3Dreconstruction'</code>, you can add <code>/:photoId</code> to the endpoint to retrieve a specific photo.</p>
            <p><span class="example">Example:</span> <code>GET /measurements/3dreconstruction/all/123</code></p>
        </div>
    </div> --}}
    {{>api_docs}}
    {{!-- {{>WiFi_map project=project projectPoints=projectPoints}} --}}
    
{{/if}}
{{#if (eq project.projName '3D Reconstruction')}}
    <h3 id="projpageLabels">Geo-located images</h3>
    {{>camera_leaflet project=project projectPoints=projectPoints}}
    {{>api_docs}}
    {{!-- {{>api_url_generator}} --}}
{{/if}}
{{#if (eq project.projName 'Road Roughness')}}
    <h3 id="projpageLabels">Heatmap</h3>
    {{>LoRa_leaflet project=project projectPoints=projectPoints}}
    <div id="theme-toggle">
        <button id="toggle-button" onclick="toggleTheme()">‚òÄÔ∏è Switch to Light Mode</button>
    </div>
    <div id="dashboardcont">
        <div id="dashboard"><iframe src="https://labserver.sense-campus.gr:8087/d/aecnvd14xgxs0c/road-roughness?from=2025-02-09T15:44:26.011Z&to=2025-02-09T16:33:33.179Z&timezone=browser&theme=dark" width="1100" height="500" frameborder="0"></iframe></div>
    </div>
    {{>api_docs}}
{{/if}}
<script>
        function toggleTheme() {
            const button = document.getElementById('toggle-button');
            const iframe = document.querySelector('#dashboard iframe');
            if (button.textContent.includes('Light')) {
                button.textContent = 'üåô Switch to Dark Mode';
                iframe.src = iframe.src.replace('dark', 'light');
            } else {
                button.textContent = '‚òÄÔ∏è Switch to Light Mode';
                iframe.src = iframe.src.replace('light', 'dark');
            }
        }
    </script>
    <style>
    #theme-toggle {
        text-align: right;
        margin-bottom: 10px;
        padding-right: 20px;
    }

    #toggle-button {
        background-color: #333;
        color: white;
        border: none;
        padding: 10px 15px;
        font-size: 16px;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    #toggle-button:hover {
        background-color: #555;
    }

    /* Light Mode Styles */
    body.light-mode {
        background-color: #f5f5f5;
        color: black;
    }

    #toggle-button.light-mode {
        background-color: #ddd;
        color: black;
    }

    #toggle-button.light-mode:hover {
        background-color: #ccc;
    }
</style>
{{!-- {{>footer}} --}}